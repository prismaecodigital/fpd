(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{EzuS:function(t,a,s){"use strict";s.r(a);var e=s("e5cX"),r=s("L2JU"),i=s("m0r1");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,e)}return s}function c(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?n(Object(s),!0).forEach((function(a){d(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}function d(t,a,s){return(a=function(t){var a=function(t,a){if("object"!==l(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var e=s.call(t,a||"default");if("object"!==l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===l(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}i.e.register(i.p,i.q,i.g,i.i,i.b,i.j,i.d,i.l);var o={components:{LineChartGenerator:e.b,Bar:e.a},props:{chartId:{type:String,default:"cashIn"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}}},data:function(){return{query:{bu_id:null,dept:{id:null,name:null},startDate:null,endDate:null,startDateSummary:null,endDateSummary:null},chartOptions_cash_in:{legend:{display:!0},plugins:{tooltip:{callbacks:{label:function(t){var a=t.dataset.label||"";return a&&(a+=": "),a+=Math.round(100*t.parsed.y)+"%",a}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(t){return 100*t+"%"}}}},responsive:!0,maintainAspectRatio:!1},chartOptions_cash_out:{legend:{display:!0},plugins:{tooltip:{callbacks:{label:function(t){var a=t.dataset.label||"";return a&&(a+=": "),a+=Math.round(100*t.parsed.y)+"%",a}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(t){return 100*t+"%"}}}},responsive:!0,maintainAspectRatio:!1},chartOptions_coa_dept:{legend:{display:!0},plugins:{tooltip:{callbacks:{label:function(t){var a=t.dataset.label||"";return a&&(a+=": "),a+=Math.round(100*t.parsed.x)+"%",a}}}},indexAxis:"y",scales:{x:{beginAtZero:!0,ticks:{callback:function(t){return 100*t+"%"}}}},responsive:!0,maintainAspectRatio:!1}}},beforeDestroy:function(){this.resetState()},computed:c(c(c({},Object(r.c)("ChartIndex",["chart","loading","lists"])),Object(r.c)("AuthBu",["selected_bu"])),{},{updatedQuery:function(){return c(c({},this.query),{},{bu_id:this.selected_bu?this.selected_bu.id:null})}}),mounted:function(){this.query.bu_id=this.selected_bu?this.selected_bu.id:null},watch:{selected_bu:function(t){this.query.bu_id=t?t.id:null},query:{handler:function(t){this.setQuery(t),this.fetchCharts()},deep:!0}},methods:c(c({},Object(r.b)("ChartIndex",["fetchCharts","setQuery","resetState"])),{},{updateStartDate:function(t){var a=JSON.parse(JSON.stringify(t.add(1,"day")));this.query.startDate=a},updateEndDate:function(t){var a=JSON.parse(JSON.stringify(t.add(1,"month").subtract(1,"second")));this.query.endDate=a},updateStartDateSummary:function(t){var a=JSON.parse(JSON.stringify(t.add(1,"day")));this.query.startDateSummary=a},updateEndDateSummary:function(t){var a=JSON.parse(JSON.stringify(t.add(1,"month").subtract(1,"second")));this.query.endDateSummary=a},updateDept:function(t){this.query.dept.id=t.id,this.query.dept.name=t.name,console.log(this.query.dept)}})},u=s("KHd+"),v=Object(u.a)(o,(function(){var t,a,s,e,r,i,l,n,c,d,o,u,v,_,h,b,y,p,m=this,f=m._self._c;return f("div",{staticClass:"container-fluid"},[m.$can(this.selected_bu?this.selected_bu.code+"-graph_access":"-")?f("div",{staticClass:"row"},[f("div",{staticClass:"col-md-12"},[f("div",{staticClass:"card"},[m._m(0),m._v(" "),f("div",{staticClass:"card-body"},[f("div",{staticClass:"row justify-content-end"},[f("div",{staticClass:"col-auto",staticStyle:{width:"200px"}},[f("v-select",{key:"dept-field",attrs:{name:"dept",label:"name",value:m.query.dept,options:m.lists.dept,placeholder:"Dept"},on:{input:m.updateDept}})],1),m._v(" "),f("div",{staticClass:"col-auto"},[f("vue-monthly-picker",{attrs:{"input-class":"form-control",value:m.query.startDate,placeHolder:"From Period","month-labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"date-format":"MMM yyyy"},on:{input:m.updateStartDate}},[m._v("\n                    >\n                ")])],1),m._v(" "),f("div",{staticClass:"col-auto"},[m._v(" --- ")]),m._v(" "),f("div",{staticClass:"col-auto"},[f("vue-monthly-picker",{attrs:{"input-class":"form-control",placeHolder:"To Period",value:m.query.endDate,"month-labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"date-format":"MMM yyyy"},on:{input:m.updateEndDate}},[m._v("\n                    >\n                    ")])],1)])]),m._v(" "),f("br"),m._v(" "),f("div",{staticClass:"card-header"},[f("h4",{staticStyle:{"text-align":"center"}},[f("strong",[f("b",[m._v("\n              Cashflow IN Actual & Projection - "+m._s(this.selected_bu?this.selected_bu.name:"")+"\n            ")])])])]),m._v(" "),f("div",{staticClass:"card-body"},[f("LineChartGenerator",{attrs:{"chart-options":m.chartOptions_cash_in,"chart-data":m.chart.cash_in_charts,"dataset-id-key":m.datasetIdKey,"css-classes":m.cssClasses,styles:m.styles,width:m.width,height:m.height}})],1),m._v(" "),f("br"),m._v(" "),f("div",{staticClass:"card-header"},[f("h4",{staticStyle:{"text-align":"center"}},[f("strong",[f("b",[m._v("\n              Cashflow OUT Actual & Projection - "+m._s(this.selected_bu?this.selected_bu.name:"")+"\n            ")])])])]),m._v(" "),f("div",{staticClass:"card-body"},[f("LineChartGenerator",{attrs:{"chart-options":m.chartOptions_cash_out,"chart-data":m.chart.cash_out_charts,"dataset-id-key":m.datasetIdKey,"css-classes":m.cssClasses,styles:m.styles,width:m.width,height:m.height}})],1),m._v(" "),f("div",{staticClass:"card-header"},[f("h4",{staticStyle:{"text-align":"center"}},[f("strong",[f("b",[m._v("\n              Cashflow OUT by DEPT - "+m._s(this.query.dept?this.query.dept.name:"")+"\n            ")])])])]),m._v(" "),f("div",{staticClass:"card-body"},[f("Bar",{attrs:{"chart-options":m.chartOptions_coa_dept,"chart-data":m.chart.coa_dept_charts,"dataset-id-key":m.datasetIdKey,"css-classes":m.cssClasses,styles:m.styles,width:m.width,height:m.height}})],1)])])]):m._e(),m._v(" "),m.$can(this.selected_bu?this.selected_bu.code+"-summary_access":"-")?f("div",{staticClass:"row"},[f("div",{staticClass:"col-md-12"},[f("div",{staticClass:"card"},[f("div",{staticClass:"card-header card-header-success card-header-icon"},[m._m(1),m._v(" "),f("h4",{staticClass:"card-title"},[m._v("\n            Summary\n          ")]),m._v(" "),f("div",{staticClass:"card-body"},[f("div",{staticClass:"row justify-content-end"},[f("div",{staticClass:"col-auto",staticStyle:{color:"black"}},[f("vue-monthly-picker",{attrs:{"input-class":"form-control",value:m.query.startDateSummary,placeHolder:"From Period","month-labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"date-format":"MMM yyyy"},on:{input:m.updateStartDateSummary}},[m._v("\n                    >\n                ")])],1),m._v(" "),f("div",{staticClass:"col-auto"},[m._v(" --- ")]),m._v(" "),f("div",{staticClass:"col-auto",staticStyle:{color:"black"}},[f("vue-monthly-picker",{attrs:{"input-class":"form-control",placeHolder:"To Period",value:m.query.endDateSummary,"month-labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"date-format":"MMM yyyy"},on:{input:m.updateEndDateSummary}},[m._v("\n                    >\n                    ")])],1)])]),m._v(" "),f("br"),m._v(" "),null!==m.query.startDateSummary&&null!==m.query.endDateSummary?f("div",{staticClass:"table-responsive"},[f("table",{staticClass:"table table-bordered"},[f("tbody",[m._m(2),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      Saldo Awal\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(m.chart.summary.saldo_awal)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(m.chart.summary.saldo_awal)+"\n                    ")])]),m._v(" "),m._m(3),m._v(" "),m._m(4),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      REVENUE\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(t=m.chart.summary.rev)||void 0===t?void 0:t.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(a=m.chart.summary.rev)||void 0===a?void 0:a.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      LOAN PRISMA\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(s=m.chart.summary.loan_prisma)||void 0===s?void 0:s.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(e=m.chart.summary.loan_prisma)||void 0===e?void 0:e.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      LOAN BANK\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(r=m.chart.summary.loan_bank)||void 0===r?void 0:r.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(i=m.chart.summary.loan_bank)||void 0===i?void 0:i.realized)+"\n                    ")])]),m._v(" "),m._m(5),m._v(" "),m._m(6),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      COGS - MATERIAL COST\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(l=m.chart.summary.mc)||void 0===l?void 0:l.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(n=m.chart.summary.mc)||void 0===n?void 0:n.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      COGS - LABOR COST\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(c=m.chart.summary.lc)||void 0===c?void 0:c.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(d=m.chart.summary.lc)||void 0===d?void 0:d.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      OPEX\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(o=m.chart.summary.opex)||void 0===o?void 0:o.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(u=m.chart.summary.opex)||void 0===u?void 0:u.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      HUTANG SUPPLIER\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(v=m.chart.summary.hutang_supplier)||void 0===v?void 0:v.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(_=m.chart.summary.hutang_supplier)||void 0===_?void 0:_.realized)+"\n                    ")])]),m._v(" "),f("tr",[f("td",{staticClass:"text-black"},[m._v("\n                      HUTANG NON-SUPPLIER\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(h=m.chart.summary.hutang_nonsupplier)||void 0===h?void 0:h.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(b=m.chart.summary.hutang_nonsupplier)||void 0===b?void 0:b.realized)+"\n                    ")])]),m._v(" "),m._m(7),m._v(" "),f("tr",[m._m(8),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(y=m.chart.summary.diff)||void 0===y?void 0:y.unrealized)+"\n                    ")]),m._v(" "),f("td",{staticClass:"text-black"},[m._v("\n                      "+m._s(null===(p=m.chart.summary.diff)||void 0===p?void 0:p.realized)+"\n                    ")])])])])]):m._e()])])])]):m._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header card-header-success card-header-icon"},[t("div",{staticClass:"card-icon"},[t("i",{staticClass:"material-icons"},[this._v("stacked_line_chart")])]),this._v(" "),t("h4",{staticClass:"card-title"},[this._v("\n            Charts\n          ")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-icon"},[t("i",{staticClass:"material-icons"},[this._v("summarize")])])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("KETERANGAN")])])]),this._v(" "),t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("UNREALIZED")])])]),this._v(" "),t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("REALIZED")])])])])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"},[t("strong",[t("b")])]),this._v(" "),t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"})])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("CASH IN")])])]),this._v(" "),t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"})])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"})])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("CASH OUT")])])]),this._v(" "),t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"})])},function(){var t=this._self._c;return t("tr",[t("td",{staticClass:"text-black"},[t("strong",[t("b")])]),this._v(" "),t("td",{staticClass:"text-black"}),this._v(" "),t("td",{staticClass:"text-black"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-black"},[t("strong",[t("b",[this._v("SURPLUS / DEFISIT")])])])}],!1,null,null,null);a.default=v.exports}}]);